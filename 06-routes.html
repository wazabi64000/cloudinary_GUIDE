<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>6. Routes - Gestion des médias avec Cloudinary</title>
  <link rel="stylesheet" href="style.css" />
 
</head>
<body>
  <nav class="navbar">
    <ul>
     <li><a href="index.html" class="active">1. Introduction</a></li>
      <li><a href="02-dependances.html">2. Dépendances</a></li>
      <li><a href="03-config-env.html">3. Configuration & .env</a></li>
      <li><a href="04-middleware.html">4. Middleware</a></li>
      <li><a href="05-controller.html">5. Controller</a></li>
      <li><a href="06-routes.html" class="active">6. Routes</a></li>
      <li><a href="07-tests.html">7. Tests</a></li>
      <li><a href="08-multimedia.html">8. Multimédia</a></li>
    </ul>
  </nav>

  <main>
    <h1>Définition des routes pour l’upload et la gestion des médias</h1>

    <section>
      <h2>Structure de base des routes</h2>
      <p>Les routes sont responsables de connecter les requêtes HTTP aux middlewares et controllers appropriés.</p>
    </section>

    <section>
      <h2>Exemple simple de routes dans <code>routes/media.routes.js</code></h2>
      <pre><code>import express from 'express';
import upload from '../middlewares/upload.js';
import { uploadMedia, deleteMedia } from '../controllers/media.controller.js';

const router = express.Router();

// Route POST pour uploader un fichier (champ 'media')
router.post('/upload', upload.single('media'), uploadMedia);

// Route DELETE pour supprimer un média par public_id
router.delete('/delete/:public_id', deleteMedia);

export default router;
</code></pre>
    </section>

    <section>
      <h2>Intégration dans l’application principale</h2>
      <p>Dans <code>app.js</code> ou votre fichier principal :</p>
      <pre><code>import express from 'express';
import mediaRoutes from './routes/media.routes.js';

const app = express();

app.use('/media', mediaRoutes);

app.listen(3000, () => {
  console.log('Serveur démarré sur http://localhost:3000');
});
</code></pre>
    </section>

  </main>
</body>
</html>
